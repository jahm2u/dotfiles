"use strict";var N=Object.create;var d=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var j=Object.getPrototypeOf,U=Object.prototype.hasOwnProperty;var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),V=(e,t)=>{for(var r in t)d(e,r,{get:t[r],enumerable:!0})},T=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K(t))!U.call(e,o)&&o!==r&&d(e,o,{get:()=>t[o],enumerable:!(n=R(t,o))||n.enumerable});return e};var Y=(e,t,r)=>(r=e!=null?N(j(e)):{},T(t||!e||!e.__esModule?d(r,"default",{value:e,enumerable:!0}):r,e)),J=e=>T(d({},"__esModule",{value:!0}),e);var A=g((fe,O)=>{"use strict";var _=require("fs"),x;function Q(){try{return _.statSync("/.dockerenv"),!0}catch{return!1}}function Z(){try{return _.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}O.exports=()=>(x===void 0&&(x=Q()||Z()),x)});var v=g((me,S)=>{"use strict";var ee=require("os"),te=require("fs"),b=A(),k=()=>{if(process.platform!=="linux")return!1;if(ee.release().toLowerCase().includes("microsoft"))return!b();try{return te.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!b():!1}catch{return!1}};process.env.__IS_WSL_TEST__?S.exports=k:S.exports=k()});var W=g((de,q)=>{"use strict";q.exports=(e,t,r)=>{let n=o=>Object.defineProperty(e,t,{value:o,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let o=r();return n(o),o},set(o){n(o)}}),e}});var B=g((ge,z)=>{var re=require("path"),oe=require("child_process"),{promises:P,constants:L}=require("fs"),h=v(),ne=A(),F=W(),$=re.join(__dirname,"xdg-open"),{platform:p,arch:D}=process,ie=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await P.access(r,L.F_OK),n=!0}catch{}if(!n)return e;let o=await P.readFile(r,{encoding:"utf8"}),s=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(o);return s?(t=s.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),M=async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(o){r=o}throw r},w=async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return M(e.app,c=>w({...e,app:c}));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return M(t,c=>w({...e,app:{name:c,arguments:r}}));let n,o=[],s={};if(p==="darwin")n="open",e.wait&&o.push("--wait-apps"),e.background&&o.push("--background"),e.newInstance&&o.push("--new"),t&&o.push("-a",t);else if(p==="win32"||h&&!ne()){let c=await ie();n=h?`${c}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,o.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),h||(s.windowsVerbatimArguments=!0);let a=["Start"];e.wait&&a.push("-Wait"),t?(a.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&a.push(`"${e.target}"`),r.length>0&&(r=r.map(m=>`"\`"${m}\`""`),a.push(r.join(","))),e.target=Buffer.from(a.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let c=!__dirname||__dirname==="/",a=!1;try{await P.access($,L.X_OK),a=!0}catch{}n=process.versions.electron||p==="android"||c||!a?"xdg-open":$}r.length>0&&o.push(...r),e.wait||(s.stdio="ignore",s.detached=!0)}e.target&&o.push(e.target),p==="darwin"&&r.length>0&&o.push("--args",...r);let f=oe.spawn(n,o,s);return e.wait?new Promise((c,a)=>{f.once("error",a),f.once("close",m=>{if(e.allowNonzeroExitCode&&m>0){a(new Error(`Exited with code ${m}`));return}c(f)})}):(f.unref(),f)},C=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return w({...t,target:e})},se=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return w({...t,app:{name:e,arguments:r}})};function I(e){if(typeof e=="string"||Array.isArray(e))return e;let{[D]:t}=e;if(!t)throw new Error(`${D} is not supported`);return t}function E({[p]:e},{wsl:t}){if(t&&h)return I(t);if(!e)throw new Error(`${p} is not supported`);return I(e)}var y={};F(y,"chrome",()=>E({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));F(y,"firefox",()=>E({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));F(y,"edge",()=>E({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));C.apps=y;C.openApp=se;z.exports=C});var ue={};V(ue,{default:()=>G});module.exports=J(ue);var X=Y(B()),i=require("@raycast/api");var l=require("@raycast/api");async function ae(){return(await(0,l.getApplications)()).some(({bundleId:t})=>t?["io.sipapp.Sip-setapp","io.sipapp.Sip","io.sipapp.Sip-paddle"].includes(t):!1)}async function H(){if(!await ae()){let e={style:l.Toast.Style.Failure,title:"Sip is not installed",message:"Read more here",primaryAction:{title:"Download information",onAction:t=>{(0,l.open)("https://www.sipapp.io"),t.hide()}}};return await(0,l.showToast)(e),!1}return!0}var u=require("react/jsx-runtime");async function ce(e,t){if(await H()){let r=t.trim().replace(/^#+/,""),n=/^#([0-9a-f]{3}){1,2}$/i;if(r.length!==6){let o={style:i.Toast.Style.Failure,title:"Hex values must be 6 characters",message:"example : #c0ff33",primaryAction:{title:"Try again",onAction:s=>{s.hide()}}};await(0,i.showToast)(o)}else if(n.test("#"+r)===!1){let o={style:i.Toast.Style.Failure,title:"Hex code is not valid",message:"example : #c0ff33",primaryAction:{title:"Try again",onAction:s=>{s.hide()}}};await(0,i.showToast)(o)}else le(e,r)}}async function le(e,t){let r="sip://color/hex/"+e+"/#"+t;(0,X.default)(r),await(0,i.closeMainWindow)(),await(0,i.showHUD)("Added to Sip color history \u{1F3A8}")}function G(){return(0,u.jsxs)(i.Form,{actions:(0,u.jsx)(i.ActionPanel,{children:(0,u.jsx)(i.Action.SubmitForm,{title:"Add Color",onSubmit:e=>ce(e.name,e.hex)})}),children:[(0,u.jsx)(i.Form.TextField,{id:"name",title:"Color Name",info:"Optional",placeholder:"Raycast Red"}),(0,u.jsx)(i.Form.TextField,{id:"hex",title:"Color Hex",info:"Hex value must be 6 characters",placeholder:"#ff6363"})]})}
